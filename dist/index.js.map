{"version":3,"sources":["../src/index.ts"],"sourcesContent":["import fs from 'node:fs';\nimport path from 'node:path';\nimport { fileURLToPath } from 'node:url';\nimport prompts from 'prompts';\nimport pc from 'picocolors';\n\nconst __dirname = path.dirname(fileURLToPath(import.meta.url));\n\nconst banner = `\n${pc.cyan('â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—')}\n${pc.cyan('â•‘')}  ${pc.bold(pc.magenta('âš¡ Create Float-V App'))}               ${pc.cyan('â•‘')}\n${pc.cyan('â•‘')}  ${pc.dim('Ultra Modern Web Framework')}          ${pc.cyan('â•‘')}\n${pc.cyan('â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•')}\n`;\n\nconst templates = [\n  {\n    title: `Web ${pc.dim('(Float-V Core / SSR)')}`,\n    value: 'web',\n    description: 'High-performance web application with native SSR and file-based routing.'\n  },\n  {\n    title: `Mobile ${pc.dim('(Expo + @float-v/lite)')}`,\n    value: 'mobile',\n    description: 'Cross-platform mobile app for iOS and Android.'\n  },\n  {\n    title: `Server ${pc.dim('(Headless + @float-v/core)')}`,\n    value: 'server',\n    description: 'API-only server for real-time and headless workloads.'\n  }\n];\n\nasync function main() {\n  console.log(banner);\n\n  let targetDir = process.argv[2];\n\n  if (!targetDir) {\n    const response = await prompts({\n      type: 'text',\n      name: 'projectName',\n      message: 'Project name:',\n      initial: 'my-float-app',\n      validate: (value) => {\n        if (!value) return 'Project name is required';\n        if (!/^[a-z0-9-_]+$/i.test(value)) return 'Invalid project name';\n        return true;\n      },\n    });\n\n    if (!response.projectName) {\n      console.log(pc.red('\\nâŒ Project creation cancelled\\n'));\n      process.exit(1);\n    }\n    targetDir = response.projectName;\n  }\n\n  const { template } = await prompts({\n    type: 'select',\n    name: 'template',\n    message: 'Select a template:',\n    choices: templates,\n  });\n\n  if (!template) {\n    console.log(pc.red('\\nâŒ Project creation cancelled\\n'));\n    process.exit(1);\n  }\n\n  const projectDir = path.resolve(process.cwd(), targetDir);\n\n  if (fs.existsSync(projectDir)) {\n    const { overwrite } = await prompts({\n      type: 'confirm',\n      name: 'overwrite',\n      message: `Directory ${targetDir} already exists. Overwrite?`,\n      initial: false,\n    });\n\n    if (!overwrite) {\n      console.log(pc.red('\\nâŒ Project creation cancelled\\n'));\n      process.exit(1);\n    }\n    fs.rmSync(projectDir, { recursive: true });\n  }\n\n  console.log(pc.cyan(`\\nðŸ“ Generating ${pc.bold(template)} project in ${pc.bold(projectDir)}...\\n`));\n\n  // Determine template directory\n  // In dev: templates is in ../templates relative to dist/index.js (if running dist)\n  // or ../../templates relative to dist/index.js\n  // Let's assume standard publishing structure\n  let templateDir = path.resolve(__dirname, '..', 'templates', template);\n\n  if (!fs.existsSync(templateDir)) {\n    // Try current dir if running from src (dev)\n    templateDir = path.resolve(__dirname, '..', 'templates', template);\n    if (!fs.existsSync(templateDir)) {\n      templateDir = path.resolve(process.cwd(), 'templates', template);\n    }\n  }\n\n  if (!fs.existsSync(templateDir)) {\n    console.log(pc.red(`\\nâŒ Template directory not found\\n`));\n    process.exit(1);\n  }\n\n  // Copy template\n  copyDir(templateDir, projectDir);\n\n  // Update package.json\n  const pkgPath = path.join(projectDir, 'package.json');\n  if (fs.existsSync(pkgPath)) {\n    const pkg = JSON.parse(fs.readFileSync(pkgPath, 'utf8'));\n    pkg.name = path.basename(projectDir);\n    pkg.version = '0.1.0';\n    // Ensure we use the latest public versions of our packages\n    if (pkg.dependencies) {\n      if (pkg.dependencies['@float-v/core']) pkg.dependencies['@float-v/core'] = '^1.0.0';\n      if (pkg.dependencies['@float-v/lite']) pkg.dependencies['@float-v/lite'] = '^1.0.0';\n    }\n    fs.writeFileSync(pkgPath, JSON.stringify(pkg, null, 2));\n  }\n\n  console.log(pc.green('\\nâœ¨ Project created successfully!'));\n  console.log(pc.dim(`Template: ${template}\\n`));\n\n  console.log(pc.bold('Next steps:\\n'));\n  console.log(`  ${pc.cyan('cd')} ${targetDir}`);\n  console.log(`  ${pc.cyan('pnpm')} install`);\n  console.log(`  ${pc.cyan('pnpm')} dev\\n`);\n\n  console.log(pc.dim('Happy coding with Float-V! âš¡\\n'));\n}\n\nfunction copyDir(src: string, dest: string) {\n  fs.mkdirSync(dest, { recursive: true });\n  for (const file of fs.readdirSync(src)) {\n    const srcFile = path.resolve(src, file);\n    const destFile = path.resolve(dest, file);\n    if (fs.lstatSync(srcFile).isDirectory()) {\n      copyDir(srcFile, destFile);\n    } else {\n      fs.copyFileSync(srcFile, destFile);\n    }\n  }\n}\n\nmain().catch((err) => {\n  console.error(err);\n  process.exit(1);\n});\n"],"mappings":"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","names":[]}